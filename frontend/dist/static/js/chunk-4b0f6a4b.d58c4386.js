(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b0f6a4b"],{1490:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-view",{attrs:{toolbar:t.toolbar,columns:t.columns,"search-config":t.searchConfig}})},o=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view"},[t.hasSearch?n("div",{staticClass:"search"}):t._e(),t._v(" "),n("div",{staticClass:"datalist"},[n("div",{staticClass:"toolbar"},[t._t("toolbar",[t.toolbar.includes("add")?n("el-button",{attrs:{plain:"",icon:"el-icon-plus"},on:{click:t.$parent.add}},[t._v("添加")]):t._e(),t._v(" "),t.toolbar.includes("upload")?n("el-button",{attrs:{plain:"",icon:"el-icon-upload"},on:{click:t.$parent.upload}},[t._v("导入")]):t._e(),t._v(" "),t.toolbar.includes("download")?n("el-button",{attrs:{plain:"",icon:"el-icon-download"},on:{click:t.$parent.download}},[t._v("导出")]):t._e()])],2),t._v(" "),n("el-table",t._g(t._b({staticStyle:{width:"100%"},attrs:{data:t.$parent.tableData,stripe:"",border:""}},"el-table",t.$attrs,!1),t.$listeners),[t._t("default",[t._l(t.columns,function(t,e){return n("el-table-column",{key:e,attrs:{label:t.label,prop:t.prop,width:t.width}})}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{attrs:{content:"编辑",placement:"right-end"}},[n("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-edit-outline"},on:{click:function(n){return t.$parent.edit(e.row)}}})],1),t._v(" "),n("el-tooltip",{attrs:{content:"删除",placement:"right-end"}},[n("el-button",{attrs:{plain:"",icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(n){return t.$parent.del(e.row)}}})],1)]}}])})])],2),t._v(" "),t.hasFooter?n("el-row",{staticClass:"footer"},[n("el-col",{attrs:{span:4}},[t.hasPatchDelete?n("el-button",{attrs:{type:"danger",plain:""}},[t._v("批量删除")]):t._e()],1),t._v(" "),n("el-col",{attrs:{span:18,offset:t.caclOffset}},[t.hasPager?n("el-pagination",{attrs:{"current-page":t.$parent.current_page,"page-sizes":[10,20,25,50],"page-size":t.$parent.pageSize,background:"",layout:"total, sizes,  pager",total:t.$parent.total},on:{"size-change":t.$parent.sizeChange,"current-change":t.$parent.pagination,"update:currentPage":function(e){return t.$set(t.$parent,"current_page",e)},"update:current-page":function(e){return t.$set(t.$parent,"current_page",e)}}}):t._e()],1)],1):t._e()],1)])},r=[],i={props:{hasSearch:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasPatchDelete:{type:Boolean,default:!0},hasPager:{type:Boolean,default:!0},toolbar:{type:[Array],default:["add","upload","download"]},columns:{type:[Array],required:!0},searchConfig:{type:[Object],required:!0}},data:function(){return{searchForm:{}}},computed:{caclOffset:function(){return!1===this.hasPatchDelete?4:0}},created:function(){this.searchForm=this.$parent.searchForm},methods:{test:function(){console.log(this.searchForm),console.log(this.$parent.searchForm)}}},s=i,u=n("2877"),l=Object(u["a"])(s,c,r,!1,null,"abaad0d0",null),d=l.exports,h=n("a92f"),f={components:{"v-view":d},mixins:[h["a"]],data:function(){return{toolbar:["add","upload","download"],module:"order",searchConfig:[{label:"订单编号",type:"text",hasTitle:!0,prop:"order_number"},{label:"商户编号",type:"text",hasTitle:!1,prop:"merchant_number"}],columns:[{label:"标识",prop:"id",width:"100"},{label:"订单编号",prop:"order_number",width:"180"},{label:"商户编号",prop:"merchant_number",width:"180"},{label:"商户名称",prop:"merchant_name",width:"180"}]}}},p=f,b=Object(u["a"])(p,a,o,!1,null,null,null);e["default"]=b.exports},"6fbe":function(t,e,n){var a={"./admin":["50fc","chunk-2d0c798e"],"./admin.js":["50fc","chunk-2d0c798e"],"./api":["4ec3","chunk-2d0ccb97"],"./api.js":["4ec3","chunk-2d0ccb97"],"./dashboard":["5fd4","chunk-2d0d43d7"],"./dashboard.js":["5fd4","chunk-2d0d43d7"],"./log":["8916","chunk-7e20d9b0"],"./log.js":["8916","chunk-7e20d9b0"],"./login":["7ded"],"./login.js":["7ded"],"./member":["8194","chunk-ed8a7108"],"./member.js":["8194","chunk-ed8a7108"],"./order":["f8b7","chunk-ed606062"],"./order.js":["f8b7","chunk-ed606062"],"./other":["bfb4","chunk-2d21b84c"],"./other.js":["bfb4","chunk-2d21b84c"],"./permission":["0feb","chunk-2d0afe49"],"./permission.js":["0feb","chunk-2d0afe49"],"./role":["cc5e","chunk-2d221c26"],"./role.js":["cc5e","chunk-2d221c26"],"./table":["ad8f","chunk-b461012a"],"./table.js":["ad8f","chunk-b461012a"],"./user":["c24f","chunk-9e76a64a"],"./user.js":["c24f","chunk-9e76a64a"],"./work":["9b41","chunk-7e21e850"],"./work.js":["9b41","chunk-7e21e850"]};function o(t){var e=a[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){var t=e[0];return n(t)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(a)},o.id="6fbe",t.exports=o},"910c":function(t,e,n){var a={"./log":["1616","chunk-2d0ab800"],"./log.js":["1616","chunk-2d0ab800"],"./order":["f9ff","chunk-2d22e189"],"./order.js":["f9ff","chunk-2d22e189"],"./role":["ab009","chunk-7704ac42"],"./role.js":["ab009","chunk-7704ac42"]};function o(t){var e=a[t];return e?n.e(e[1]).then(function(){var t=e[0];return n(t)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(a)},o.id="910c",t.exports=o},a297:function(t,e,n){"use strict";var a={data:function(){return{isShowUpload:!1}},methods:{upload:function(){this.isShowUpload=!0},closeUpload:function(){this.isShowUpload=!1}},mounted:function(){},created:function(){}};e["a"]=a},a92f:function(t,e,n){"use strict";var a={methods:{success:function(t){this.$message({type:"success",message:t})},error:function(t){this.$message({type:"error",message:t})}}},o={data:function(){return{isShowDownload:!1}},methods:{download:function(){this.isShowDownload=!0},closeDownload:function(){this.isShowDownload=!1}},mounted:function(){},created:function(){}},c=o,r=n("a297");e["a"]={mixins:[a,c,r["a"]],data:function(){return{tableData:[],form:{},searchForm:{},isNew:!1,isEdit:!1,current_page:1,total:0,pageSize:10,editDialogFormVisible:!1}},created:function(){var t=this;n("910c")("./".concat(this.module)).then(function(e){var n=e.Model,a=e.SearchModel;t.form=new n,t.searchForm=new a})},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.searchForm,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.current_page,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pageSize;n("6fbe")("./".concat(this.module)).then(function(n){var c=n.getInfo;c(e,a,o).then(function(e){t.tableData=e.data,t.total=e.meta.total})})},add:function(){var t=this;n("910c")("./".concat(this.module)).then(function(e){var n=e.Model;t.form=new n,t.setStatus(!0,!1,!0)})},edit:function(t){var e=this;n("6fbe")("./".concat(this.module)).then(function(n){var a=n.getInfoById;a(t.id).then(function(t){e.form=t.data,e.setStatus(!1,!0,!0)})})},save:function(){this.isEdit&&!this.isNew&&(this.setStatus(),this.updateData()),!this.isEdit&&this.isNew&&(this.setStatus(),this.newData())},newData:function(){var t=this;n("6fbe")("./".concat(this.module)).then(function(e){var n=e.addInfo;n(t.form).then(function(e){t.success("创建角色成功"),t.fetchData()}).catch(function(e){t.error(e.response.data.info)})})},updateData:function(){var t=this;n("6fbe")("./".concat(this.module)).then(function(e){var n=e.updateInfo;n(t.form.id,t.form).then(function(e){t.success("角色信息更改成功"),t.fetchData()}).catch(function(e){t.error(e.response.data.info)})})},cancel:function(){this.setStatus()},setStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isEdit=e,this.isNew=t,this.editDialogFormVisible=n},del:function(t){var e=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n("6fbe")("./".concat(e.module)).then(function(n){var a=n.deleteInfoById;a(t.id).then(function(){e.success("删除成功!"),e.fetchData()}).catch(function(){})})})},pagination:function(t){this.current_page=t,this.fetchData()},sizeChange:function(t){this.pageSize=t,this.fetchData()}}}}}]);